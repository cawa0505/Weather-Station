var data = {
  location: [{
    location: "內湖高中",
    api: "https://api.thingspeak.com/channels/148353/feeds.json?key=M108RN6TTVSB0QEB"
  }]
}
for (var i = 0; i < data.location.length; i++) {
  var name = data.location[i].location;
  console.log(name);
  Fetch(data.location[i].api, function (callback) {
    console.log(callback);
    document.querySelector(".container>.col-4:nth-of-type(2)>.card>.image>.content>.temperature>span").innerHTML = callback.field1;
  });
}

function Fetch(url, callback) {
  var request = new XMLHttpRequest();
  request.open('GET', url, false);
  request.onreadystatechange = function() {
    if (request.status == 200 && request.readyState == 4) {
      // Everything get ready
      var data = JSON.parse(request.responseText).feeds,
        length = data.length - 1;
      console.log('data length: ' + data.length);
      console.log('temperature:  ' + data[length].field1);
      callback(data[length]);
    }
  };
  request.send();
}
